<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>在线表格编辑器</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- 顶部工具栏 -->
        <div class="toolbar">
            <div class="app-title">
                <i class="fas fa-table"></i>
                <h1>在线表格编辑器</h1>
                <span class="app-subtitle">数据自动保存 · 表头可编辑 · 支持API</span>
            </div>
            
            <div class="toolbar-buttons">
                <div class="button-group">
                    <button id="addRow" class="btn btn-primary" title="添加一行 (Ctrl+R)">
                        <i class="fas fa-plus"></i> 添加行
                    </button>
                    <button id="addCol" class="btn btn-primary" title="添加一列 (Ctrl+C)">
                        <i class="fas fa-plus"></i> 添加列
                    </button>
                    <button id="clearBtn" class="btn btn-warning" title="清空表格">
                        <i class="fas fa-trash"></i> 清空
                    </button>
                </div>
                
                <div class="button-group">
                    <button id="loadBtn" class="btn btn-info" title="从服务器加载数据 (Ctrl+L)">
                        <i class="fas fa-sync"></i> 加载
                    </button>
                    <button id="exportBtn" class="btn btn-secondary" title="导出为JSON文件">
                        <i class="fas fa-download"></i> 导出
                    </button>
                    <button id="copyApiBtn" class="btn btn-secondary" title="复制API URL">
                        <i class="fas fa-link"></i> API
                    </button>
                </div>
            </div>
        </div>

        <!-- 主表格区域 -->
        <div class="main-content">
            <div class="table-wrapper">
                <table id="dataTable">
                    <thead>
                        <tr id="headerRow">
                            <th class="corner">#</th>
                            <!-- 表头将通过JavaScript动态生成 -->
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- 表格内容将通过JavaScript动态生成 -->
                    </tbody>
                </table>
            </div>
            
            <!-- 侧边状态面板 -->
            <div class="sidebar">
                <div class="status-card">
                    <h3><i class="fas fa-chart-bar"></i> 表格状态</h3>
                    <div class="status-item">
                        <span class="status-label">行数:</span>
                        <span id="rowCount" class="status-value">5</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">列数:</span>
                        <span id="colCount" class="status-value">4</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">单元格数:</span>
                        <span id="cellCount" class="status-value">20</span>
                    </div>
                </div>
                
                <div class="status-card">
                    <h3><i class="fas fa-info-circle"></i> 系统状态</h3>
                    <div class="status-item">
                        <span class="status-label">自动保存:</span>
                        <span class="status-value enabled">已启用</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">数据持久化:</span>
                        <span class="status-value enabled">已启用</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">状态:</span>
                        <span id="statusText" class="status-value">就绪</span>
                    </div>
                </div>
                
                <div class="instructions">
                    <h3><i class="fas fa-lightbulb"></i> 使用提示</h3>
                    <ul>
                        <li>双击单元格或表头进行编辑</li>
                        <li>按 <kbd>Enter</kbd> 保存，<kbd>ESC</kbd> 取消</li>
                        <li>数据自动保存到服务器</li>
                        <li>服务器重启不会丢失数据</li>
                        <li>API: <code>GET /api/data</code></li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 底部信息栏 -->
        <div class="footer">
            <div class="footer-info">
                <span><i class="fas fa-server"></i> 服务器: <span id="serverStatus">已连接</span></span>
                <span><i class="fas fa-database"></i> 存储: <span id="storageStatus">文件存储</span></span>
                <span><i class="fas fa-clock"></i> 最后保存: <span id="lastSaveTime">刚刚</span></span>
            </div>
            <div class="footer-actions">
                <button id="autoSaveToggle" class="btn btn-small btn-success">
                    <i class="fas fa-check-circle"></i> 自动保存已开启
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
